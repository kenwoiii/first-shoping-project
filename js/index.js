let product=[{
    id:1,
    img:'https://images.unsplash.com/photo-1516962126636-27ad087061cc?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTR8fGNvbXB1dGVyJTIwcHJvZHVjdHxlbnwwfHwwfHx8MA%3D%3D',
    name:'Cannon Pro we003-5820p 70M pixel',
    price:12000,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'other'
},{
    id:2,
    img:'https://images.unsplash.com/photo-1505740420928-5e560c06d30e?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8cHJvZHVjdHxlbnwwfHwwfHx8MA%3D%3D',
    name:'Headphone xxx 2.0 ultra',
    price:400000,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Headphone'
},{
    id:3,
    img:'https://images.unsplash.com/photo-1583573636246-18cb2246697f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c21hcnRwaG9uZXN8ZW58MHx8MHx8fDA%3D',
    name:'oppa pocco X14 032170 ROM 128 GB RAM 64GB',
    price:45699,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Smartphone'
},{
    id:4,
    img:'https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fFBjfGVufDB8fDB8fHww',
    name:'asix saberous R3570 RTX5090TI I9 20900k',
    price:460000,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Pc'
},{
    id:5,
    img:'https://plus.unsplash.com/premium_photo-1681319553238-9860299dfb0f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8TGFwdG9wfGVufDB8fDB8fHww',
    name:'HQ VICTOS i5 10400h RTX3050TI RAM16GB storage 1TB',
    price:34690,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Laptop'
},{
    id:6,
    img:'https://images.unsplash.com/photo-1561154464-82e9adf32764?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8VGFibGV0fGVufDB8fDB8fHww',
    name:'HUAWAN MATT 4 PRO 512GB',
    price:25000,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Tablet'
},{
    id:7,
    img:'https://images.unsplash.com/photo-1598327105666-5b89351aff97?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8U21hcnRwaG9uZXxlbnwwfHwwfHx8MA%3D%3D',
    name:'HUAWANPHONE S26 ULTRA',
    price:12990,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Smartphone'
}]

let featured=[{
    id:4,
    img:'https://images.unsplash.com/photo-1583573636246-18cb2246697f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8M3x8c21hcnRwaG9uZXN8ZW58MHx8MHx8fDA%3D',
    name:'oppa pocco X14 032170 ROM 128 GB RAM 64GB',
    price:45699,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Smartphone'
},{
    id:5,
    img:'https://images.unsplash.com/photo-1593640408182-31c70c8268f5?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MTB8fFBjfGVufDB8fDB8fHww',
    name:'asix saberous R3570 RTX5090TI I9 20900k',
    price:460000,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Pc'
},{
    id:6,
    img:'https://plus.unsplash.com/premium_photo-1681319553238-9860299dfb0f?w=500&auto=format&fit=crop&q=60&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8TGFwdG9wfGVufDB8fDB8fHww',
    name:'HQ VICTOS i5 10400h RTX3050TI RAM16GB storage 1TB',
    price:34690,
    description:'Lorem ipsum dolor sit amet consectetur adipisicing elit. Ullam vitae animi, harum soluta illo dolore reiciendis id deserunt iure perferendis?',
    type:'Laptop'
}]

$(document).ready(()=>{

    let html=' ';
    for(let i=0;i<product.length;i++){
        html+=` <div class="featured-product-item ${product[i].type}" onclick="openpage(${i})">
                    <img src="${product[i].img}" alt="">
                    <div class="item-content">
                        <h2>${product[i].name}</h2>
                        <div class="star-con">
                            <label for="star1"></label>
                            <label for="star1"></label>
                            <label for="star1"></label>
                            <label for="star1"></label>
                            <label for="star1"></label>
                        </div>
                        <p>${product[i].price} THB</p>
                    </div>
                </div>`
    }
    $('.product-items').html(html);

    let featuredproduct=' ';
    for(let i=0;i<featured.length;i++){
        featuredproduct+=`<div class="featured-product-item ${featured[i].type}">
                            <img src="${featured[i].img}" alt="">
                            <div class="item-content">
                                <h2>${featured[i].name}</h2>
                                <div class="star-con">
                                    <label for="star1"></label>
                                    <label for="star1"></label>
                                    <label for="star1"></label>
                                    <label for="star1"></label>
                                    <label for="star1"></label>
                                </div>
                                <p>${featured[i].price} THB</p>
                            </div>
                        </div>`
    }
    $('.featured-product').html(featuredproduct);

    $('.input-username').val('sorawit');
    $('.input-name').val('lnwza007')
    $('.input-password').val('sbsc3214');

})




function changecolor(key){

    $('#Code').removeClass('active')
    $('#All').removeClass('active')
    $('.nav-icon a').removeClass('active')
    $('#' + key).addClass('active');

}

function searchproduct(param){
    $('.featured-product-item').css('display','none')
    if(param=='All'){
        $('.featured-product-item').css('display','block')
    }else{
        $('.'+param).css('display','block')
    }
}

function closepage(){
    $('.modal').css('display','none')
    $('.cmd').css('display','none')
}

productindex=0;
function openpage(index){
    productindex=index;
    $('.modal').css('display','flex')
    $('#modal-img').attr('src',product[index].img)
    $('#name').text(product[index].name)
    $('#price').text(product[index].price+' THB')
    $('#desc').text(product[index].description)
}

let cart=[]
function addtocard(){
    let pass=true;
    for(let i=0;i<cart.length;i++){
        if(productindex==cart[i].index){
            pass=false;
            cart[i].count++
        }
    }

    if(pass){
        let object={
            id:product[productindex].id,
            img:product[productindex].img,
            name:product[productindex].name,
            price:product[productindex].price,
            index:productindex,
            count:1
        }
        cart.push(object);
    }
    showpoint()

}

function opencart(){
    $('.cmd').css('display','flex')
    let html=' '
    for(let i=0;i<cart.length;i++){
        html+=`<div class="cartlist-items">
                    <div class="cart-left">
                        <img class="cart-img" src="${cart[i].img}" alt="">
                        <div class="cart-detail">
                        <p class="cart-name" >${cart[i].name}</p>
                        <p class="cart-price">${cart[i].price*cart[i].count}</p>
                        </div>
                    </div>
                    <div class="cart-right">
                        <p class="nct" onclick="incdep('-',${i})" >-</p>
                        <p>${cart[i].count}</p>
                        <p class="nct" onclick="incdep('+',${i})">+</p>
                    </div>
                </div>`
    }
    $('.cart-list').html(html);
}

function showpoint(){
    if(cart.length>0){
        $(".point").css('display','flex').text(cart.length)
    }else{
        $('.point').css('display','none')
    }
}

function incdep(param,i){
    
    if(param=='+'&&cart[i].count>0){
        cart[i].count++;
    }else if(param=='-'&&cart[i].count>0){
        cart[i].count--;
    }

    if (cart[i].count <= 0) {
        cart.splice(i, 1);
    }
    opencart()
    showpoint()
}


